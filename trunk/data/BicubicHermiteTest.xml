<?xml version="1.0" encoding="UTF-8"?>
<fieldml>
  <!--
1____2____5
|    |    |
|    |    |
|  1 |  2 |
|    |    |
3____4____6
-->
  <Region name="BicubicHermite_Test">
    <ContinuousDomain baseDomain="library.coordinates.rc.2d" name="test_mesh.domain.xi" componentDomain="library.coordinates.rc.2d" />
    

    <ContinuousDomain name="test_mesh.coordinates.dz/ds" />
    

    <ContinuousDomain name="test_mesh.coordinates.d2z/ds1ds2" />
    

    <EnsembleDomain baseDomain="test_mesh.edge_direction" name="test_mesh.edge_direction">
      <ArbitraryEnsembleBounds>
        <values>1  2  </values>
      </ArbitraryEnsembleBounds>
    </EnsembleDomain>
    

    <EnsembleDomain superDomain="library.topology.2d" baseDomain="test_mesh.domain.elements" name="test_mesh.domain.elements">
      <ContiguousEnsembleBounds valueCount="2" />
    </EnsembleDomain>
    

    <EnsembleDomain superDomain="library.topology.0d" baseDomain="test_mesh.nodes" name="test_mesh.nodes" componentDomain="library.local_nodes.quad.1x1">
      <ContiguousEnsembleBounds valueCount="16" />
    </EnsembleDomain>
    

    <MeshDomain name="test_mesh.domain">
      <shapes>
        <entry key="1" value="library.shape.quad.00_10_01_11" />
        <entry key="2" value="library.shape.quad.00_10_01_11" />
      </shapes>
      <pointConnectivity />
    </MeshDomain>
    

    <ContinuousVariableEvaluator name="test_mesh.node.dofs.u" valueDomain="library.coordinates.rc.1d">
      <parameterDomains>"test_mesh.nodes"  </parameterDomains>
    </ContinuousVariableEvaluator>
    

    <ContinuousVariableEvaluator name="test_mesh.node.dofs.du/ds" valueDomain="library.coordinates.rc.1d">
      <parameterDomains>"test_mesh.nodes"  </parameterDomains>
    </ContinuousVariableEvaluator>
    

    <ContinuousVariableEvaluator name="test_mesh.node.dofs.d2u/ds2" valueDomain="library.coordinates.rc.1d">
      <parameterDomains>"test_mesh.nodes"  </parameterDomains>
    </ContinuousVariableEvaluator>
    

    <ContinuousCompositeEvaluator name="test_mesh.node.du/ds1" valueDomain="test_mesh.coordinates.dz/ds">
      <CompositionEvaluator>
        <operations>
          <ImportOperation evaluator="test_mesh.node.direction.ds1" domain="test_mesh.edge_direction" />
          <ImportOperation evaluator="test_mesh.node.dofs.du/ds" domain="library.coordinates.rc.1d" />
          <ContinuousAliasOperation source="library.coordinates.rc.1d" destination="test_mesh.coordinates.dz/ds" />
        </operations>
      </CompositionEvaluator>
    </ContinuousCompositeEvaluator>
    

    <ContinuousCompositeEvaluator name="test_mesh.node.du/ds2" valueDomain="test_mesh.coordinates.dz/ds">
      <CompositionEvaluator>
        <operations>
          <ImportOperation evaluator="test_mesh.node.direction.ds2" domain="test_mesh.edge_direction" />
          <ImportOperation evaluator="test_mesh.node.dofs.du/ds" domain="library.coordinates.rc.1d" />
          <ContinuousAliasOperation source="library.coordinates.rc.1d" destination="test_mesh.coordinates.dz/ds" />
        </operations>
      </CompositionEvaluator>
    </ContinuousCompositeEvaluator>
    

    <ContinuousPiecewiseEvaluator indexDomain="library.interpolation.hermite.derivatives" name="test_mesh.node.bicubic_parameters" valueDomain="library.coordinates.rc.1d">
      <elementMaps>
        <TemplateMap index="1" evaluator="test_mesh.node.dofs.u" />
        <TemplateMap index="2" evaluator="test_mesh.node.du/ds1" />
        <TemplateMap index="3" evaluator="test_mesh.node.du/ds2" />
        <TemplateMap index="4" evaluator="test_mesh.node.dofs.d2u/ds2" />
      </elementMaps>
    </ContinuousPiecewiseEvaluator>
    

    <MapEvaluator valueIndexes="test_mesh.nodes" valueWeights="library.weighting.list" valueSource="test_mesh.node.dofs.u" name="test_mesh.element.bilinear_lagrange_map" valueDomain="library.coordinates.rc.1d" />
    

    <ContinuousCompositeEvaluator name="test_mesh.element.bilinear_lagrange" valueDomain="library.coordinates.rc.1d">
      <CompositionEvaluator>
        <operations>
          <ContinuousAliasOperation source="test_mesh.domain.xi" destination="library.xi.rc.2d" />
          <ImportOperation evaluator="test_mesh.quad_nodes" domain="test_mesh.nodes" />
          <ImportOperation evaluator="library.function.bilinear_lagrange" domain="library.weighting.list" />
          <ImportOperation evaluator="test_mesh.element.bilinear_lagrange_map" domain="library.coordinates.rc.1d" />
        </operations>
      </CompositionEvaluator>
    </ContinuousCompositeEvaluator>
    

    <ContinuousPiecewiseEvaluator indexDomain="test_mesh.domain.elements" name="test_mesh.coordinates.L2" valueDomain="library.coordinates.rc.1d">
      <elementMaps>
        <TemplateMap index="1" evaluator="test_mesh.element.bilinear_lagrange" />
        <TemplateMap index="2" evaluator="test_mesh.element.bilinear_lagrange" />
      </elementMaps>
    </ContinuousPiecewiseEvaluator>
    

    <ContinuousParameters name="test_mesh.cubic_hermite_scaling" valueDomain="library.bicubic_hermite.scaling">
      <table>
        <SimpleMapEntry>
          <key>1  </key>
          <values>1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>2  </key>
          <values>1.0  2.0  1.0  2.0  1.0  2.0  1.0  2.0  1.0  2.0  1.0  2.0  1.0  2.0  1.0  2.0  </values>
        </SimpleMapEntry>
      </table>
    </ContinuousParameters>
    

    <DotProductEvaluator values="library.bicubic_hermite.parameters" weights="library.weighting.list" scales="library.bicubic_hermite.scaling" name="test_mesh.element.bicubic_hermite_evaluator" valueDomain="library.coordinates.rc.1d" />
    

    <ContinuousCompositeEvaluator name="test_mesh.element.bicubic_hermite" valueDomain="library.coordinates.rc.1d">
      <CompositionEvaluator>
        <operations>
          <ContinuousAliasOperation source="test_mesh.domain.xi" destination="library.xi.rc.2d" />
          <ImportOperation evaluator="test_mesh.bicubic_hermite.element_parameter" domain="library.bicubic_hermite.parameters" />
          <ImportOperation evaluator="library.function.bicubic_hermite" domain="library.weighting.list" />
          <ImportOperation evaluator="test_mesh.cubic_hermite_scaling" domain="library.bicubic_hermite.scaling" />
          <ImportOperation evaluator="test_mesh.element.bicubic_hermite_evaluator" domain="library.coordinates.rc.1d" />
        </operations>
      </CompositionEvaluator>
    </ContinuousCompositeEvaluator>
    

    <ContinuousPiecewiseEvaluator indexDomain="test_mesh.domain.elements" name="test_mesh.coordinates.H3" valueDomain="library.coordinates.rc.1d">
      <elementMaps>
        <TemplateMap index="1" evaluator="test_mesh.element.bicubic_hermite" />
        <TemplateMap index="2" evaluator="test_mesh.element.bicubic_hermite" />
      </elementMaps>
    </ContinuousPiecewiseEvaluator>
    

    <ContinuousParameters name="test_mesh.node.x" valueDomain="library.coordinates.rc.1d">
      <table>
        <SimpleMapEntry>
          <key>1  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>2  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>3  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>4  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>5  </key>
          <values>3.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>6  </key>
          <values>3.0  </values>
        </SimpleMapEntry>
      </table>
    </ContinuousParameters>
    

    <ContinuousParameters name="test_mesh.node.y" valueDomain="library.coordinates.rc.1d">
      <table>
        <SimpleMapEntry>
          <key>1  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>2  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>3  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>4  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>5  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>6  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
      </table>
    </ContinuousParameters>
    

    <ContinuousParameters name="test_mesh.node.z" valueDomain="library.coordinates.rc.1d">
      <table>
        <SimpleMapEntry>
          <key>1  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>2  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>3  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>4  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>5  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>6  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
      </table>
    </ContinuousParameters>
    

    <ContinuousParameters name="test_mesh.node.dz/ds" valueDomain="test_mesh.coordinates.dz/ds">
      <table>
        <SimpleMapEntry>
          <key>1  1  </key>
          <values>-1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>1  2  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>2  1  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>2  2  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>3  1  </key>
          <values>-1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>3  2  </key>
          <values>-1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>4  1  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>4  2  </key>
          <values>-1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>5  1  </key>
          <values>-1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>5  2  </key>
          <values>1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>6  1  </key>
          <values>-1.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>6  2  </key>
          <values>-1.0  </values>
        </SimpleMapEntry>
      </table>
    </ContinuousParameters>
    

    <ContinuousParameters name="test_mesh.node.d2z/ds1ds2" valueDomain="test_mesh.coordinates.d2z/ds1ds2">
      <table>
        <SimpleMapEntry>
          <key>1  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>2  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>3  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>4  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>5  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>6  </key>
          <values>0.0  </values>
        </SimpleMapEntry>
      </table>
    </ContinuousParameters>
    

    <ContinuousAggregateEvaluator name="test_mesh.coordinates" valueDomain="library.coordinates.rc.3d">
      <sourceFields>"test_mesh.coordinates.x"  "test_mesh.coordinates.y"  "test_mesh.coordinates.z"  </sourceFields>
    </ContinuousAggregateEvaluator>
    

    <EnsembleParameters name="test_mesh.quad_nodes" valueDomain="test_mesh.nodes">
      <table>
        <SimpleMapEntry>
          <key>1  </key>
          <values>1  2  3  4  </values>
        </SimpleMapEntry>
        <SimpleMapEntry>
          <key>2  </key>
          <values>2  5  4  6  </values>
        </SimpleMapEntry>
      </table>
    </EnsembleParameters>
    

    <EnsembleParameters name="test_mesh.node.direction.ds1" valueDomain="test_mesh.edge_direction" />
    

    <EnsembleParameters name="test_mesh.node.direction.ds2" valueDomain="test_mesh.edge_direction" />
    

    <PiecewiseField template="test_mesh.coordinates.L2" name="test_mesh.coordinates.x" valueDomain="library.coordinates.rc.1d">
      <variables>
        <SimpleMapEntry key="test_mesh.node.dofs.u" value="test_mesh.node.x" />
      </variables>
    </PiecewiseField>
    

    <PiecewiseField template="test_mesh.coordinates.L2" name="test_mesh.coordinates.y" valueDomain="library.coordinates.rc.1d">
      <variables>
        <SimpleMapEntry key="test_mesh.node.dofs.u" value="test_mesh.node.y" />
      </variables>
    </PiecewiseField>
    

    <PiecewiseField template="test_mesh.coordinates.H3" name="test_mesh.coordinates.z" valueDomain="library.coordinates.rc.1d">
      <variables>
        <SimpleMapEntry key="test_mesh.node.dofs.u" value="test_mesh.node.z" />
        <SimpleMapEntry key="test_mesh.node.dofs.du/ds" value="test_mesh.node.dz/ds" />
        <SimpleMapEntry key="test_mesh.node.dofs.d2u/ds2" value="test_mesh.node.d2z/ds1ds2" />
        <SimpleMapEntry key="test_mesh.element.bicubic_hermite_scaling" value="test_mesh.cubic_hermite_scaling" />
      </variables>
    </PiecewiseField>
    

  </Region>
</fieldml>

