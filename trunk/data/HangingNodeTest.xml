<?xml version="1.0" encoding="UTF-8"?>
<fieldml>
  <!--
1______2____3
|      |    |
|      | *2 |
|      |    |
|  *1  4____5
|      |    |
|      | *3 |
6______7____8
-->
  <EnsembleDomain baseDomain="test_mesh.element_index" name="test_mesh.element_index">
    <ContiguousEnsembleBounds valueCount="3" />
  </EnsembleDomain>
  

  <EnsembleDomain baseDomain="test_mesh.global_dofs_index" name="test_mesh.global_dofs_index">
    <ContiguousEnsembleBounds valueCount="7" />
  </EnsembleDomain>
  

  <EnsembleDomain baseDomain="test_mesh.global_dofs_index" name="test_mesh.global_dof_index_list" componentDomain="library.anonymous">
    <ContiguousEnsembleBounds valueCount="7" />
  </EnsembleDomain>
  

  <EnsembleDomain baseDomain="test_mesh.local_dof_index" name="test_mesh.local_dof_index">
    <ContiguousEnsembleBounds valueCount="8" />
  </EnsembleDomain>
  

  <EnsembleDomain baseDomain="test_mesh.local_dof_index" name="test_mesh.local_dof_index_list" componentDomain="library.anonymous">
    <ContiguousEnsembleBounds valueCount="8" />
  </EnsembleDomain>
  

  <MeshDomain dimensions="2" elementDomain="test_mesh.element_index" name="test_mesh.domain">
    <shapes>
      <entry key="1" value="library.shape.quad.00_10_01_11" />
      <entry key="2" value="library.shape.quad.00_10_01_11" />
      <entry key="3" value="library.shape.quad.00_10_01_11" />
    </shapes>
  </MeshDomain>
  

  <ContinuousParameters name="test_mesh.global_to_local.weights" valueDomain="library.weighting.list">
    <table>
      <SimpleMapEntry>
        <key>1  </key>
        <values>1.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>2  </key>
        <values>1.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>3  </key>
        <values>1.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>4  </key>
        <values>0.5  0.5  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>5  </key>
        <values>1.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>6  </key>
        <values>1.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>7  </key>
        <values>1.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>8  </key>
        <values>1.0  </values>
      </SimpleMapEntry>
    </table>
  </ContinuousParameters>
  

  <ContinuousParameters name="test_mesh.point.x" valueDomain="library.co-ordinates.rc.1d">
    <table>
      <SimpleMapEntry>
        <key>1  </key>
        <values>0.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>2  </key>
        <values>20.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>3  </key>
        <values>30.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>4  </key>
        <values>30.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>5  </key>
        <values>0.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>6  </key>
        <values>20.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>7  </key>
        <values>30.0  </values>
      </SimpleMapEntry>
    </table>
  </ContinuousParameters>
  

  <ContinuousParameters name="test_mesh.point.y" valueDomain="library.co-ordinates.rc.1d">
    <table>
      <SimpleMapEntry>
        <key>1  </key>
        <values>20.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>2  </key>
        <values>20.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>3  </key>
        <values>20.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>4  </key>
        <values>10.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>5  </key>
        <values>0.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>6  </key>
        <values>0.0  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>7  </key>
        <values>0.0  </values>
      </SimpleMapEntry>
    </table>
  </ContinuousParameters>
  

  <FunctionEvaluator function="BilinearLagrange" functionDomain="test_mesh.domain" name="test_mesh.bilinear_lagrange" valueDomain="library.weighting.list" />
  

  <MapEvaluator valueIndexes="test_mesh.global_to_local.indexes" valueWeights="test_mesh.global_to_local.weights" valueSource="test_mesh.dofs" name="test_mesh.local_dofs" valueDomain="library.co-ordinates.rc.1d" />
  

  <MapEvaluator valueIndexes="test_mesh.quad_nodes" valueWeights="test_mesh.bilinear_lagrange" valueSource="test_mesh.local_dofs" name="test_mesh.element.bilinear_lagrange" valueDomain="library.co-ordinates.rc.1d" />
  

  <ContinuousPiecewiseEvaluator indexDomain="test_mesh.element_index" name="test_mesh.template.bilinear_lagrange" valueDomain="library.co-ordinates.rc.1d">
    <elementMaps>
      <TemplateMap index="1" evaluator="test_mesh.element.bilinear_lagrange" />
      <TemplateMap index="2" evaluator="test_mesh.element.bilinear_lagrange" />
      <TemplateMap index="3" evaluator="test_mesh.element.bilinear_lagrange" />
    </elementMaps>
  </ContinuousPiecewiseEvaluator>
  

  <ContinuousAggregateEvaluator name="test_mesh.coordinates.xy" valueDomain="library.co-ordinates.rc.2d">
    <sourceFields>"test_mesh.coordinates.x"  "test_mesh.coordinates.y"  </sourceFields>
  </ContinuousAggregateEvaluator>
  

  <EnsembleParameters name="test_mesh.global_to_local.indexes" valueDomain="test_mesh.global_dof_index_list">
    <table>
      <SimpleMapEntry>
        <key>1  </key>
        <values>1  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>2  </key>
        <values>2  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>3  </key>
        <values>3  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>4  </key>
        <values>2  6  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>5  </key>
        <values>4  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>6  </key>
        <values>5  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>7  </key>
        <values>6  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>8  </key>
        <values>7  </values>
      </SimpleMapEntry>
    </table>
  </EnsembleParameters>
  

  <EnsembleParameters name="test_mesh.quad_nodes" valueDomain="test_mesh.local_dof_index_list">
    <table>
      <SimpleMapEntry>
        <key>1  </key>
        <values>6  7  1  2  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>2  </key>
        <values>4  5  2  3  </values>
      </SimpleMapEntry>
      <SimpleMapEntry>
        <key>3  </key>
        <values>7  8  4  5  </values>
      </SimpleMapEntry>
    </table>
  </EnsembleParameters>
  

  <PiecewiseField template="test_mesh.template.bilinear_lagrange" name="test_mesh.coordinates.x" valueDomain="library.co-ordinates.rc.1d">
    <variables>
      <SimpleMapEntry key="test_mesh.dofs" value="test_mesh.point.x" />
    </variables>
  </PiecewiseField>
  

  <PiecewiseField template="test_mesh.template.bilinear_lagrange" name="test_mesh.coordinates.y" valueDomain="library.co-ordinates.rc.1d">
    <variables>
      <SimpleMapEntry key="test_mesh.dofs" value="test_mesh.point.y" />
    </variables>
  </PiecewiseField>
  

</fieldml>

